{"version":3,"file":"TimeFormat.vue.js","sources":["../../../src/components/basic/TimeFormat.vue"],"sourcesContent":["<template>\n  <span :class=\"customClass\" :title=\"fullTime\">\n    {{ formattedTime }}\n  </span>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport 'dayjs/locale/zh-cn'\n\n// 配置 dayjs\ndayjs.extend(relativeTime)\ndayjs.locale('zh-cn')\n\nconst props = defineProps({\n  // 时间值\n  value: {\n    type: [String, Number, Date],\n    default: null\n  },\n  // 格式化模式\n  mode: {\n    type: String,\n    default: 'datetime', // datetime, date, time, relative, fromNow, custom\n    validator: (value) =>\n      ['datetime', 'date', 'time', 'relative', 'fromNow', 'custom'].includes(value)\n  },\n  // 自定义格式（mode 为 custom 时使用）\n  format: {\n    type: String,\n    default: 'YYYY-MM-DD HH:mm:ss'\n  },\n  // 空值显示文本\n  emptyText: {\n    type: String,\n    default: '-'\n  },\n  // 自定义类名\n  customClass: {\n    type: String,\n    default: ''\n  }\n})\n\n// 格式化时间\nconst formattedTime = computed(() => {\n  if (!props.value) {\n    return props.emptyText\n  }\n\n  const time = dayjs(props.value)\n\n  if (!time.isValid()) {\n    return props.emptyText\n  }\n\n  switch (props.mode) {\n    case 'date':\n      return time.format('YYYY-MM-DD')\n    case 'time':\n      return time.format('HH:mm:ss')\n    case 'datetime':\n      return time.format('YYYY-MM-DD HH:mm:ss')\n    case 'relative':\n      return time.fromNow()\n    case 'fromNow':\n      return time.fromNow()\n    case 'custom':\n      return time.format(props.format)\n    default:\n      return time.format('YYYY-MM-DD HH:mm:ss')\n  }\n})\n\n// 完整时间（用于 title 提示）\nconst fullTime = computed(() => {\n  if (!props.value) {\n    return ''\n  }\n\n  const time = dayjs(props.value)\n\n  if (!time.isValid()) {\n    return ''\n  }\n\n  return time.format('YYYY-MM-DD HH:mm:ss')\n})\n</script>\n"],"names":[],"mappings":";;;;;;;AAYA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,KAAK,CAAC,MAAM,CAAC,YAAY;AACzB,KAAK,CAAC,MAAM,CAAC,OAAO;;;;AAgCpB;AACA,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM;AACrC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;AACpB,IAAI,OAAO,KAAK,CAAC;AACjB,EAAE;;AAEF,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK;;AAEhC,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE;AACvB,IAAI,OAAO,KAAK,CAAC;AACjB,EAAE;;AAEF,EAAE,QAAQ,KAAK,CAAC,IAAI;AACpB,IAAI,KAAK,MAAM;AACf,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY;AACrC,IAAI,KAAK,MAAM;AACf,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU;AACnC,IAAI,KAAK,UAAU;AACnB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,qBAAqB;AAC9C,IAAI,KAAK,UAAU;AACnB,MAAM,OAAO,IAAI,CAAC,OAAO;AACzB,IAAI,KAAK,SAAS;AAClB,MAAM,OAAO,IAAI,CAAC,OAAO;AACzB,IAAI,KAAK,QAAQ;AACjB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM;AACrC,IAAI;AACJ,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,qBAAqB;AAC9C;AACA,CAAC;;AAED;AACA,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM;AAChC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;AACpB,IAAI,OAAO;AACX,EAAE;;AAEF,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK;;AAEhC,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE;AACvB,IAAI,OAAO;AACX,EAAE;;AAEF,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,qBAAqB;AAC1C,CAAC;;;;;;;;;;;;;;"}