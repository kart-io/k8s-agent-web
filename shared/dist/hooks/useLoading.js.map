{"version":3,"file":"useLoading.js","sources":["../../src/hooks/useLoading.js"],"sourcesContent":["import { ref } from 'vue'\n\n/**\n * 加载状态钩子\n * 用于管理异步操作的加载状态\n */\nexport function useLoading(initialLoading = false) {\n  const loading = ref(initialLoading)\n\n  /**\n   * 设置加载状态\n   */\n  const setLoading = (value) => {\n    loading.value = value\n  }\n\n  /**\n   * 开始加载\n   */\n  const startLoading = () => {\n    loading.value = true\n  }\n\n  /**\n   * 结束加载\n   */\n  const endLoading = () => {\n    loading.value = false\n  }\n\n  /**\n   * 包装异步函数，自动管理加载状态\n   */\n  const withLoading = async (fn, ...args) => {\n    try {\n      startLoading()\n      return await fn(...args)\n    } finally {\n      endLoading()\n    }\n  }\n\n  /**\n   * 创建带加载状态的函数\n   */\n  const createLoadingFn = (fn) => {\n    return async (...args) => {\n      return await withLoading(fn, ...args)\n    }\n  }\n\n  return {\n    loading,\n    setLoading,\n    startLoading,\n    endLoading,\n    withLoading,\n    createLoadingFn\n  }\n}\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACO,SAAS,UAAU,CAAC,cAAc,GAAG,KAAK,EAAE;AACnD,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,cAAc,EAAC;AACrC;AACA;AACA;AACA;AACA,EAAE,MAAM,UAAU,GAAG,CAAC,KAAK,KAAK;AAChC,IAAI,OAAO,CAAC,KAAK,GAAG,MAAK;AACzB,IAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,YAAY,GAAG,MAAM;AAC7B,IAAI,OAAO,CAAC,KAAK,GAAG,KAAI;AACxB,IAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,UAAU,GAAG,MAAM;AAC3B,IAAI,OAAO,CAAC,KAAK,GAAG,MAAK;AACzB,IAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,WAAW,GAAG,OAAO,EAAE,EAAE,GAAG,IAAI,KAAK;AAC7C,IAAI,IAAI;AACR,MAAM,YAAY,GAAE;AACpB,MAAM,OAAO,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC;AAC9B,KAAK,SAAS;AACd,MAAM,UAAU,GAAE;AAClB,KAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,eAAe,GAAG,CAAC,EAAE,KAAK;AAClC,IAAI,OAAO,OAAO,GAAG,IAAI,KAAK;AAC9B,MAAM,OAAO,MAAM,WAAW,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC;AAC3C,KAAK;AACL,IAAG;AACH;AACA,EAAE,OAAO;AACT,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,YAAY;AAChB,IAAI,UAAU;AACd,IAAI,WAAW;AACf,IAAI,eAAe;AACnB,GAAG;AACH;;;;"}