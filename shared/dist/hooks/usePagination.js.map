{"version":3,"file":"usePagination.js","sources":["../../src/hooks/usePagination.js"],"sourcesContent":["import { reactive, computed } from 'vue'\n\n/**\n * 分页钩子\n * 用于管理分页状态\n */\nexport function usePagination(options = {}) {\n  const {\n    current = 1,\n    pageSize = 10,\n    total = 0,\n    showSizeChanger = true,\n    showQuickJumper = true,\n    pageSizeOptions = ['10', '20', '50', '100']\n  } = options\n\n  const pagination = reactive({\n    current,\n    pageSize,\n    total,\n    showSizeChanger,\n    showQuickJumper,\n    pageSizeOptions,\n    showTotal: (total) => `共 ${total} 条`\n  })\n\n  /**\n   * 设置当前页\n   */\n  const setPage = (page) => {\n    pagination.current = page\n  }\n\n  /**\n   * 设置每页条数\n   */\n  const setPageSize = (size) => {\n    pagination.pageSize = size\n    // 重置到第一页\n    pagination.current = 1\n  }\n\n  /**\n   * 设置总数\n   */\n  const setTotal = (total) => {\n    pagination.total = total\n  }\n\n  /**\n   * 重置分页\n   */\n  const reset = () => {\n    pagination.current = current\n    pagination.pageSize = pageSize\n    pagination.total = total\n  }\n\n  /**\n   * 处理分页变化\n   */\n  const handleChange = (page, pageSize) => {\n    pagination.current = page\n    pagination.pageSize = pageSize\n  }\n\n  /**\n   * 上一页\n   */\n  const prev = () => {\n    if (pagination.current > 1) {\n      pagination.current--\n    }\n  }\n\n  /**\n   * 下一页\n   */\n  const next = () => {\n    const maxPage = Math.ceil(pagination.total / pagination.pageSize)\n    if (pagination.current < maxPage) {\n      pagination.current++\n    }\n  }\n\n  /**\n   * 跳转到第一页\n   */\n  const first = () => {\n    pagination.current = 1\n  }\n\n  /**\n   * 跳转到最后一页\n   */\n  const last = () => {\n    const maxPage = Math.ceil(pagination.total / pagination.pageSize)\n    pagination.current = maxPage\n  }\n\n  /**\n   * 获取分页参数（用于API请求）\n   */\n  const getParams = computed(() => {\n    return {\n      page: pagination.current,\n      pageSize: pagination.pageSize\n    }\n  })\n\n  return {\n    pagination,\n    setPage,\n    setPageSize,\n    setTotal,\n    reset,\n    handleChange,\n    prev,\n    next,\n    first,\n    last,\n    getParams\n  }\n}\n"],"names":[],"mappings":"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"}