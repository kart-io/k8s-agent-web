{"version":3,"file":"config-loader.js","sources":["../../src/utils/config-loader.js"],"sourcesContent":["/**\n * Configuration Loader and Validator\n *\n * Loads and validates micro-app configuration against JSON schema.\n * Provides helper functions for accessing configuration safely.\n */\n\n/**\n * Validate a value against a JSON schema property definition\n * This is a simplified validator - for production, consider using ajv or similar\n *\n * @param {any} value - Value to validate\n * @param {Object} schema - JSON schema property definition\n * @param {string} path - Property path for error reporting\n * @returns {Array} Array of validation errors (empty if valid)\n */\nfunction validateProperty(value, schema, path = '') {\n  const errors = []\n\n  // Check required type\n  if (schema.type) {\n    const actualType = Array.isArray(value) ? 'array' : typeof value\n    const expectedType = schema.type\n\n    if (expectedType === 'integer') {\n      if (!Number.isInteger(value)) {\n        errors.push({\n          path,\n          message: `Expected integer, got ${actualType}`,\n          value\n        })\n        return errors\n      }\n    } else if (actualType !== expectedType) {\n      errors.push({\n        path,\n        message: `Expected ${expectedType}, got ${actualType}`,\n        value\n      })\n      return errors\n    }\n  }\n\n  // String validations\n  if (typeof value === 'string') {\n    if (schema.pattern) {\n      const regex = new RegExp(schema.pattern)\n      if (!regex.test(value)) {\n        errors.push({\n          path,\n          message: `Value does not match pattern: ${schema.pattern}`,\n          value\n        })\n      }\n    }\n    if (schema.minLength !== undefined && value.length < schema.minLength) {\n      errors.push({\n        path,\n        message: `String length ${value.length} is less than minimum ${schema.minLength}`,\n        value\n      })\n    }\n    if (schema.maxLength !== undefined && value.length > schema.maxLength) {\n      errors.push({\n        path,\n        message: `String length ${value.length} exceeds maximum ${schema.maxLength}`,\n        value\n      })\n    }\n  }\n\n  // Number validations\n  if (typeof value === 'number') {\n    if (schema.minimum !== undefined && value < schema.minimum) {\n      errors.push({\n        path,\n        message: `Value ${value} is less than minimum ${schema.minimum}`,\n        value\n      })\n    }\n    if (schema.maximum !== undefined && value > schema.maximum) {\n      errors.push({\n        path,\n        message: `Value ${value} exceeds maximum ${schema.maximum}`,\n        value\n      })\n    }\n  }\n\n  // Object validations\n  if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n    if (schema.required) {\n      for (const requiredProp of schema.required) {\n        if (!(requiredProp in value)) {\n          errors.push({\n            path: `${path}.${requiredProp}`,\n            message: `Required property missing: ${requiredProp}`,\n            value: undefined\n          })\n        }\n      }\n    }\n\n    if (schema.properties) {\n      for (const [propName, propValue] of Object.entries(value)) {\n        const propSchema = schema.properties[propName]\n        if (propSchema) {\n          const propErrors = validateProperty(\n            propValue,\n            propSchema,\n            path ? `${path}.${propName}` : propName\n          )\n          errors.push(...propErrors)\n        }\n      }\n    }\n  }\n\n  return errors\n}\n\n/**\n * Validate micro-app configuration against schema\n *\n * @param {Object} config - Configuration object to validate\n * @param {Object} schema - JSON schema definition\n * @returns {Object} Validation result { valid: boolean, errors: Array }\n */\nexport function validateConfig(config, schema) {\n  const errors = []\n\n  if (!config || typeof config !== 'object') {\n    return {\n      valid: false,\n      errors: [{\n        path: '',\n        message: 'Configuration must be an object',\n        value: config\n      }]\n    }\n  }\n\n  // Validate using patternProperties (for dynamic app names)\n  if (schema.patternProperties) {\n    const pattern = Object.keys(schema.patternProperties)[0]\n    const appSchema = schema.patternProperties[pattern]\n    const regex = new RegExp(pattern)\n\n    // Check minimum properties\n    if (schema.minProperties && Object.keys(config).length < schema.minProperties) {\n      errors.push({\n        path: '',\n        message: `Configuration must have at least ${schema.minProperties} app(s)`,\n        value: config\n      })\n    }\n\n    // Validate each app configuration\n    for (const [appName, appConfig] of Object.entries(config)) {\n      if (!regex.test(appName)) {\n        errors.push({\n          path: appName,\n          message: `App name does not match pattern: ${pattern}`,\n          value: appName\n        })\n        continue\n      }\n\n      const appErrors = validateProperty(appConfig, appSchema, appName)\n      errors.push(...appErrors)\n    }\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  }\n}\n\n/**\n * Load configuration from a config object with validation\n *\n * @param {Object} config - Configuration object\n * @param {Object} schema - JSON schema for validation\n * @param {Object} options - Options\n * @param {boolean} [options.strict=true] - Throw error on validation failure\n * @param {Function} [options.onError] - Error callback function\n * @returns {Object|null} Validated configuration or null if invalid (when strict=false)\n */\nexport function loadConfig(config, schema, options = {}) {\n  const { strict = true, onError } = options\n\n  // Validate configuration\n  const validationResult = validateConfig(config, schema)\n\n  if (!validationResult.valid) {\n    const errorMessage = `Configuration validation failed:\\n${validationResult.errors\n      .map(e => `  - ${e.path}: ${e.message}`)\n      .join('\\n')}`\n\n    // Call error callback if provided\n    if (onError) {\n      onError(validationResult.errors)\n    }\n\n    // Strict mode: throw error\n    if (strict) {\n      const error = new Error(errorMessage)\n      error.validationErrors = validationResult.errors\n      throw error\n    }\n\n    // Non-strict mode: log warning and return null\n    console.warn('[CONFIG LOADER]', errorMessage)\n    return null\n  }\n\n  // Configuration is valid\n  console.log('[CONFIG LOADER] Configuration validated successfully')\n  return config\n}\n\n/**\n * Get environment-specific URL from micro-app entry configuration\n *\n * @param {Object} entry - Entry configuration object with environment URLs\n * @param {string} [env] - Target environment (defaults to current VITE_MODE or 'development')\n * @returns {string} Environment-specific URL\n */\nexport function getEntryUrl(entry, env) {\n  if (!entry || typeof entry !== 'object') {\n    throw new Error('Invalid entry configuration')\n  }\n\n  // Determine environment\n  const targetEnv = env || import.meta.env.MODE || 'development'\n\n  // Get URL for target environment\n  const url = entry[targetEnv]\n\n  if (!url) {\n    // Fallback order: production -> development\n    const fallbackUrl = entry.production || entry.development\n\n    if (!fallbackUrl) {\n      throw new Error(`No URL found for environment: ${targetEnv}`)\n    }\n\n    console.warn(\n      `[CONFIG LOADER] No URL for environment '${targetEnv}', using fallback: ${fallbackUrl}`\n    )\n    return fallbackUrl\n  }\n\n  return url\n}\n\n/**\n * Deep merge two configuration objects\n * Used for merging default config with user config\n *\n * @param {Object} target - Target object (defaults)\n * @param {Object} source - Source object (overrides)\n * @returns {Object} Merged configuration\n */\nexport function mergeConfig(target, source) {\n  const result = { ...target }\n\n  for (const [key, value] of Object.entries(source)) {\n    if (value && typeof value === 'object' && !Array.isArray(value)) {\n      result[key] = mergeConfig(result[key] || {}, value)\n    } else {\n      result[key] = value\n    }\n  }\n\n  return result\n}\n\n/**\n * Create default Wujie configuration from app config\n *\n * @param {Object} appConfig - Micro-app configuration\n * @param {string} [env] - Target environment\n * @returns {Object} Wujie-compatible configuration\n */\nexport function createWujieConfig(appConfig, env) {\n  if (!appConfig) {\n    throw new Error('App configuration is required')\n  }\n\n  const { name, entry, wujie = {} } = appConfig\n\n  return {\n    name,\n    url: getEntryUrl(entry, env),\n    exec: wujie.exec !== undefined ? wujie.exec : true,\n    alive: wujie.alive !== undefined ? wujie.alive : true,\n    sync: wujie.sync !== undefined ? wujie.sync : true,\n    props: wujie.props || {},\n    attrs: wujie.attrs || {}\n  }\n}\n\n/**\n * Validate port uniqueness across apps\n *\n * @param {Object} config - Full micro-apps configuration\n * @returns {Array} Array of port conflict errors\n */\nexport function validatePortUniqueness(config) {\n  const portMap = new Map()\n  const conflicts = []\n\n  for (const [appName, appConfig] of Object.entries(config)) {\n    const port = appConfig.port\n\n    if (portMap.has(port)) {\n      conflicts.push({\n        port,\n        apps: [portMap.get(port), appName],\n        message: `Port ${port} is used by multiple apps: ${portMap.get(port)}, ${appName}`\n      })\n    } else {\n      portMap.set(port, appName)\n    }\n  }\n\n  return conflicts\n}\n\n/**\n * Validate basePath uniqueness across apps\n *\n * @param {Object} config - Full micro-apps configuration\n * @returns {Array} Array of basePath conflict errors\n */\nexport function validateBasePathUniqueness(config) {\n  const pathMap = new Map()\n  const conflicts = []\n\n  for (const [appName, appConfig] of Object.entries(config)) {\n    const basePath = appConfig.basePath\n\n    if (pathMap.has(basePath)) {\n      conflicts.push({\n        basePath,\n        apps: [pathMap.get(basePath), appName],\n        message: `BasePath ${basePath} is used by multiple apps: ${pathMap.get(basePath)}, ${appName}`\n      })\n    } else {\n      pathMap.set(basePath, appName)\n    }\n  }\n\n  return conflicts\n}\n\nexport default {\n  validateConfig,\n  loadConfig,\n  getEntryUrl,\n  mergeConfig,\n  createWujieConfig,\n  validatePortUniqueness,\n  validateBasePathUniqueness\n}\n"],"names":[],"mappings":"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"}